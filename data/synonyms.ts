// 동의어/유의어 사전 (반복 단어 방지용)

export const SYNONYM_DICTIONARY: Record<string, string[]> = {
  // 치아 관련
  '치아': ['이', '자연치', '영구치', '치'],
  '어금니': ['구치', '대구치', '구치부', '어금니 부위'],
  '앞니': ['전치', '절치', '전치부', '앞니 부위'],
  '잇몸': ['치은', '치주 조직', '잇몸 조직'],
  '치아 뿌리': ['치근', '근단부', '뿌리 부위'],
  '사랑니': ['제3대구치', '지치', '매복치'],

  // 치료 관련
  '치료': ['시술', '처치', '진료', '치료 과정'],
  '신경치료': ['근관치료', '근관 처치', '신경 처치'],
  '임플란트': ['인공치아', '임플란트 보철', '픽스쳐'],
  '발치': ['치아 제거', '치아 적출', '발거'],
  '수복': ['복원', '회복', '재건'],
  '식립': ['매식', '이식', '설치'],

  // 상태/증상 관련
  '통증': ['아픔', '불편감', '동통', '압통'],
  '염증': ['감염', '발적', '염증 반응'],
  '증상': ['양상', '소견', '징후'],
  '손상': ['파손', '결손', '파절', '마모'],

  // 일반 서술
  '경우': ['상황', '케이스', '사례'],
  '부위': ['영역', '부분', '해당 위치'],
  '검사': ['검진', '진단', '평가', '확인'],
  '관리': ['유지', '케어', '사후 관리'],
  '중요': ['핵심적', '필수적', '주요한'],
  '필요': ['권장되는', '요구되는', '고려되는'],
}

// 동의어 규칙 프롬프트 생성 함수
export function getSynonymInstruction(): string {
  const entries = Object.entries(SYNONYM_DICTIONARY).slice(0, 15)

  return `
## 🔄 동의어 회전 규칙 (단어 반복 방지!)

동일 단어가 2문단 이내에 3회 이상 반복되면 반드시 동의어로 교체하세요.

**주요 동의어:**
${entries.map(([word, synonyms]) => `- ${word} → ${synonyms.join(', ')}`).join('\n')}

**규칙:**
1. 같은 단어 3회 연속 사용 금지 (2회까지 허용)
2. 3회째부터는 반드시 동의어 사용
3. 전문용어 첫 등장 시 원어 사용, 이후 동의어 교체 가능
4. 치과명, 지역명은 동의어 교체 대상에서 제외
`
}
