// 검증된 글쓰기 패턴 (verified_patterns.md 기반)

// 서문 패턴 (다양성 확보 - 8개씩)
export const INTRO_PATTERNS = {
  greeting: [
    '안녕하세요, [지역] [치과명] [이름]입니다.',
    '안녕하세요, [지역]에서 진료 중인 [치과명] [이름] 원장입니다.',
    '안녕하십니까, [지역] [치과명]의 [이름]입니다.',
    '[지역] [치과명] [이름]입니다. 반갑습니다.',
    '안녕하세요, [치과명] [이름] 원장입니다.',
    '[지역]에서 진료하고 있는 [이름]입니다. 안녕하세요.',
    '안녕하세요, [지역] [치과명]의 치과 의사 [이름]입니다.',
    '[치과명] [이름] 원장입니다. 안녕하세요.',
  ],
  empathyHooks: [
    '"[증상], 괜찮을까?" 이런 생각이 드셨을 수 있습니다.',
    '많은 분들이 "[질문]"이라는 궁금증을 갖고 계십니다.',
    '"정말 [치료]를 받아야 하나?" 고민이 되실 수 있습니다.',
    '[상황]이라면 염려가 되시는 것이 당연합니다.',
    '갑자기 [증상]이 나타나면 당황스러우실 수 있습니다.',
    '"[치료], 꼭 필요한 걸까?" 이런 의문을 가지신 분들이 계십니다.',
    '[증상]으로 불편을 겪고 계신 분들이 적지 않습니다.',
    '평소에는 신경 쓰지 않다가 갑자기 [증상]이 나타나는 경우가 있습니다.',
  ],
  transition: [
    '오늘은 [주제]에 대해 자세히 설명드리겠습니다.',
    '그렇다면 [질문]? 지금부터 살펴보겠습니다.',
    '오늘은 이와 관련한 내용을 상세히 안내드리겠습니다.',
    '이번 글에서는 [주제]의 원인과 치료 과정을 다루겠습니다.',
    '[주제]에 대해 궁금하셨던 분들을 위해 정리하였습니다.',
    '오늘은 [주제]와 관련된 임상적 내용을 설명드리겠습니다.',
    '이 글을 통해 [주제]에 대한 궁금증을 풀어드리겠습니다.',
    '[주제]의 원인부터 치료 과정까지, 단계별로 설명드리겠습니다.',
  ],
}

// 소제목 패턴
export const SUBHEADING_PATTERNS = {
  emoji: ['✅', '🔹', '💚', '🔵', '❌'],
  questionStyle: [
    '[주제], 왜 생길까?',
    '언제 치과에 가야 될까?',
    '[치료] 방법은?',
    '[주제] 예방하는 방법',
  ],
  emphasisStyle: [
    '[주제], 정말 필요할까?',
    '[주제]가 중요한 이유는 무엇일까?',
    '[상황]하면 어떻게 될까?',
    '꼭 알아야 될 주의 사항',
    '글을 마치면서',
  ],
}

// 본문 표현 패턴
export const BODY_PATTERNS = {
  explanation: [
    '이는 [정의]입니다.',
    '[용어]란 [설명]을 말합니다.',
    '결론부터 말씀드리자면, [핵심]입니다.',
  ],
  listing: [
    '특히 다음과 같은 분들에게 권장됩니다.',
    '다음과 같은 경우에는 [행동]이 필요합니다.',
    '주요 방법으로는 다음과 같습니다.',
  ],
  transition: [
    '하지만 [반전 내용]입니다.',
    '따라서 [결론]이 중요합니다.',
    '즉, [요약]이라는 점이 중요합니다.',
    '또한, [추가 정보]입니다.',
  ],
  empathy: [
    '많은 사람들이 이렇게 생각합니다.',
    '아마 [상황]하고 계신 분들도 있을 텐데요.',
    '걱정이 앞서게 되죠.',
    '당황스러울 수 있습니다.',
  ],
  recommendation: [
    '[행동]하는 것이 좋습니다.',
    '[행동]을 권장 드립니다.',
    '[행동]하는 것을 권장 드려요!',
    '[행동]해 보시는 것이 좋습니다.',
  ],
}

// 마무리 패턴
export const CLOSING_PATTERNS = {
  summary: [
    '[핵심 메시지]를 기억하시길 바랍니다.',
    '가까운 구강의료기관에 가셔서 정확한 평가와 진단을 받아보시길 권해드립니다.',
    '정기검진과 올바른 관리를 꾸준히 실천한다면, [긍정적 결과]할 수 있습니다.',
  ],
  farewell: [
    '[지역] 치과 의사 [이름]였습니다. 감사합니다.',
    '[지역] 치과 [이름]였습니다. 감사합니다.',
    '[지역] 치과 가 응원하겠습니다. 감사합니다 :)',
  ],
}

// 전(轉) 섹션 전환 표현 (기승전결의 '전' 시작용) - ~다 체
export const TRANSITION_PHRASES = [
  '그런데 여기서 중요한 점이 있습니다.',
  '많은 분들이 놓치시는 부분이 있습니다.',
  '한 가지 더 말씀드리고 싶은 내용이 있습니다.',
  '여기서 꼭 알아두셔야 할 사항이 있습니다.',
  '사실 이 부분이 가장 중요합니다.',
  '한 가지 꼭 기억하셔야 할 점이 있습니다.',
  '여기서 핵심이 되는 부분을 말씀드리겠습니다.',
  '다만, 주의하셔야 할 점이 있습니다.',
  '이 부분이 특히 중요합니다.',
  '많은 분들이 궁금해하시는 내용입니다.',
]

// 공감 표현 (기(起) 섹션용) - ~다 체
export const EMPATHY_PHRASES = [
  '염려가 앞서실 수 있습니다.',
  '충분히 그러실 수 있습니다.',
  '많은 분들이 비슷한 궁금증을 갖고 계십니다.',
  '이런 상황이면 당황스러우실 수 있습니다.',
  '마음이 편치 않으셨을 수 있습니다.',
]

// 마무리 권유 표현 (결(結) 섹션용) - ~다 체 + 내원유도 제거
export const CLOSING_CTA_PHRASES = [
  '가까운 치과에서 상담 받아보시길 바랍니다.',
  '궁금하신 점은 언제든 문의하시길 바랍니다.',
  '정기 검진을 통해 구강 건강을 관리하시길 권장합니다.',
  '불편한 증상이 있다면 가까운 치과에서 검진을 받아보시길 바랍니다.',
  '정기적인 검진이 무엇보다 중요합니다.',
]

// 문장 어미 패턴 (~다 체 기본)
export const SENTENCE_ENDINGS = [
  '~입니다',     // 기본 서술
  '~됩니다',     // 피동/상태
  '~있습니다',   // 존재/가능
  '~바랍니다',   // 권유
  '~필요합니다', // 필요성
  '~하죠',       // 참여 유도 (제한 사용)
  '~권장됩니다', // 추천
  '~중요합니다', // 강조
]

// 지역+치과 키워드 배치 패턴
export const REGION_KEYWORD_PLACEMENT = {
  intro: 1, // 서문 1회
  body: 4, // 본문 3~4회
  closing: 1, // 마무리 1회
  total: { min: 5, max: 8 },
  variations: [
    '[지역] 치과',
    '[지역] 에서 치과',
    '[지역] 인근 치과',
    '[지역] 주변 치과',
    '[지역] 지역 내 치과',
    '[지역]역 치과',
  ],
}

// 주제별 특화 패턴
export const TOPIC_PATTERNS: Record<string, string[]> = {
  임플란트: [
    '치조골/뼈 상태 강조',
    '전신 건강 체크 언급',
    '골이식 가능성 설명',
    '정기검진 중요성',
  ],
  신경치료: [
    '치수 설명 (신경+혈관 조직)',
    '온도 민감성 증상',
    '자연치 보존 강조',
    '크라운 후속 치료',
  ],
  사랑니: [
    '매복/수평 사랑니 설명',
    '드라이소켓 주의',
    '발치 후 관리법',
    '인접치 영향',
  ],
  충치: [
    '초기 발견 중요성',
    '단계별 진행 설명',
    '예방법 강조',
    '정기검진 권유',
  ],
  교정: [
    '교정 기간 안내',
    '유지장치 중요성',
    '구강 위생 관리',
    '정기 내원 필요성',
  ],
}

// 랜덤 패턴 선택 함수
export function getRandomPattern<T>(patterns: T[]): T {
  return patterns[Math.floor(Math.random() * patterns.length)]
}

// 인사말 생성 함수
export function generateGreeting(region: string, doctorName: string): string {
  const template = getRandomPattern(INTRO_PATTERNS.greeting)
  return template
    .replace('[지역]', region)
    .replace('[이름]', doctorName)
}

// 마무리 인사 생성 함수
export function generateFarewell(region: string, doctorName: string): string {
  const template = getRandomPattern(CLOSING_PATTERNS.farewell)
  return template
    .replace('[지역]', region)
    .replace('[이름]', doctorName)
}

// ============================================================
// 의료법 위반 - 환자 정보 관련 금지 표현
// ============================================================
export const PATIENT_INFO_FORBIDDEN = [
  // 직접적인 환자 언급
  '이번 환자분',
  '이 환자분',
  '해당 환자',
  '환자분의 경우',
  '환자분께서',
  '치료받으신 분',
  '내원하신 분',
  '방문하신 환자',

  // 구체적 정보 언급
  '00대 여성',
  '00대 남성',
  '세 여성',
  '세 남성',
  '환자 정보',
  '환자 케이스',
  '실제 사례',
  '실제 치료 사례',
  '치료 전후',

  // 후기/체험담 형식
  '환자 후기',
  '치료 후기',
  '환자 체험담',
  '치료 체험',
  '환자 인터뷰',
]

// 환자 정보 대체 표현 (일반적인 설명으로 전환)
export const PATIENT_INFO_ALTERNATIVES = {
  '이번 환자분의 경우': '이런 경우',
  '환자분께서': '이런 상황에서는',
  '치료받으신 분': '치료가 필요한 분',
  '00대 여성/남성': '(연령대 언급 금지)',
  '실제 사례': '일반적으로',
}

// 이미지 설명 템플릿 (IMAGE 플레이스홀더 대체용)
export const IMAGE_DESCRIPTION_TEMPLATES: Record<string, string> = {
  before: '▶ 치료 전 상태를 보여주는 이미지가 들어갈 위치입니다. (예: X-ray, 구강 내 사진 등)',
  after: '▶ 치료 후 개선된 상태를 보여주는 이미지가 들어갈 위치입니다.',
  xray: '▶ X-ray 촬영 이미지가 들어갈 위치입니다. (치아 상태 확인용)',
  ct: '▶ CT 촬영 이미지가 들어갈 위치입니다. (3D 입체 구조 확인용)',
  progress: '▶ 치료 과정 이미지가 들어갈 위치입니다.',
  diagram: '▶ 치료 과정 설명 일러스트/다이어그램이 들어갈 위치입니다.',
  general: '▶ 관련 참고 이미지가 들어갈 위치입니다.',
}
