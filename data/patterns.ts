// 검증된 글쓰기 패턴 (verified_patterns.md 기반)

// 서문 패턴
export const INTRO_PATTERNS = {
  greeting: [
    '안녕하세요, [지역] 치과 의사 [이름]입니다.',
    '안녕하세요, [지역] 치과 [이름] 원장입니다.',
    '안녕하십니까, [지역] 에서 진료 중인 치과 의사 [이름] 입니다.',
  ],
  empathyHooks: [
    '[증상], 괜찮을까요?',
    "많은 분들이 '[질문]' 하고 걱정하시는 경우가 많습니다.",
    "'정말 [치료]를 해야 될까?' 라는 의문이 제일 먼저 떠오르기 마련이죠.",
    '[상황]이라면 걱정이 앞서게 되죠.',
  ],
  transition: [
    '오늘은 [주제]에 대해 자세히 알아보겠습니다.',
    '그렇다면 [질문]? 지금부터 자세히 알아보겠습니다.',
    '오늘은 이와 관련하여 준비한 내용을 자세히 소개해 드리겠습니다.',
  ],
}

// 소제목 패턴
export const SUBHEADING_PATTERNS = {
  emoji: ['✅', '🔹', '💚', '🔵', '❌'],
  questionStyle: [
    '[주제], 왜 생길까?',
    '언제 치과에 가야 될까?',
    '[치료] 방법은?',
    '[주제] 예방하는 방법',
  ],
  emphasisStyle: [
    '[주제], 정말 필요할까?',
    '[주제]가 중요한 이유는 무엇일까?',
    '[상황]하면 어떻게 될까?',
    '꼭 알아야 될 주의 사항',
    '글을 마치면서',
  ],
}

// 본문 표현 패턴
export const BODY_PATTERNS = {
  explanation: [
    '이는 [정의]입니다.',
    '[용어]란 [설명]을 말합니다.',
    '결론부터 말씀드리자면, [핵심]입니다.',
  ],
  listing: [
    '특히 다음과 같은 분들에게 권장됩니다.',
    '다음과 같은 경우에는 [행동]이 필요합니다.',
    '주요 방법으로는 다음과 같습니다.',
  ],
  transition: [
    '하지만 [반전 내용]입니다.',
    '따라서 [결론]이 중요합니다.',
    '즉, [요약]이라는 점이 중요합니다.',
    '또한, [추가 정보]입니다.',
  ],
  empathy: [
    '많은 사람들이 이렇게 생각합니다.',
    '아마 [상황]하고 계신 분들도 있을 텐데요.',
    '걱정이 앞서게 되죠.',
    '당황스러울 수 있습니다.',
  ],
  recommendation: [
    '[행동]하는 것이 좋습니다.',
    '[행동]을 권장 드립니다.',
    '[행동]하는 것을 권장 드려요!',
    '[행동]해 보시는 것이 좋습니다.',
  ],
}

// 마무리 패턴
export const CLOSING_PATTERNS = {
  summary: [
    '[핵심 메시지]를 기억하시길 바랍니다.',
    '가까운 구강의료기관에 가셔서 정확한 평가와 진단을 받아보시길 권해드립니다.',
    '정기검진과 올바른 관리를 꾸준히 실천한다면, [긍정적 결과]할 수 있습니다.',
  ],
  farewell: [
    '[지역] 치과 의사 [이름]였습니다. 감사합니다.',
    '[지역] 치과 [이름]였습니다. 감사합니다.',
    '[지역] 치과 가 응원하겠습니다. 감사합니다 :)',
  ],
}

// 전(轉) 섹션 전환 표현 (기승전결의 '전' 시작용)
export const TRANSITION_PHRASES = [
  '그런데 여기서 중요한 점이 있어요.',
  '많은 분들이 놓치시는 부분인데요,',
  '한 가지 더 말씀드리고 싶은 게 있어요.',
  '여기서 잠깐! 꼭 아셔야 할 게 있어요.',
  '사실 이게 가장 중요한 부분이에요.',
  '그런데 한 가지 꼭 기억하셔야 할 게 있어요.',
  '여기서 핵심이 되는 부분을 말씀드릴게요.',
  '다만, 주의하셔야 할 점이 있는데요,',
  '이 부분이 정말 중요한데요,',
  '근데 여기서 많이들 궁금해하시는 게 있어요.',
]

// 공감 표현 (기(起) 섹션용)
export const EMPATHY_PHRASES = [
  '걱정이 앞서실 수 있어요.',
  '불안하시죠? 충분히 그러실 수 있어요.',
  '많은 분들이 비슷한 고민을 하시더라고요.',
  '이런 상황이면 정말 당황스러우시죠.',
  '속상하셨을 거예요.',
]

// 마무리 권유 표현 (결(結) 섹션용)
export const CLOSING_CTA_PHRASES = [
  '편하게 상담 받아보세요.',
  '궁금하신 점은 언제든 문의해 주세요.',
  '정기검진으로 미리미리 관리해 주세요.',
  '불편하시면 미루지 마시고 내원해 주세요.',
  '검진 한 번 받아보시는 건 어떨까요?',
]

// 구어체 어미 패턴
export const COLLOQUIAL_ENDINGS = [
  '~인데요', // 설명 후 전환
  '~거든요', // 이유 설명
  '~하죠', // 공감 유도
  '~해요', // 부드러운 설명
  '~드립니다', // 정중한 권유
  '~드려요', // 친근한 권유
  '~할게요', // 약속/예고
  '~볼게요', // 함께하는 느낌
]

// 지역+치과 키워드 배치 패턴
export const REGION_KEYWORD_PLACEMENT = {
  intro: 1, // 서문 1회
  body: 4, // 본문 3~4회
  closing: 1, // 마무리 1회
  total: { min: 5, max: 8 },
  variations: [
    '[지역] 치과',
    '[지역] 에서 치과',
    '[지역] 인근 치과',
    '[지역] 주변 치과',
    '[지역] 지역 내 치과',
    '[지역]역 치과',
  ],
}

// 주제별 특화 패턴
export const TOPIC_PATTERNS: Record<string, string[]> = {
  임플란트: [
    '치조골/뼈 상태 강조',
    '전신 건강 체크 언급',
    '골이식 가능성 설명',
    '정기검진 중요성',
  ],
  신경치료: [
    '치수 설명 (신경+혈관 조직)',
    '온도 민감성 증상',
    '자연치 보존 강조',
    '크라운 후속 치료',
  ],
  사랑니: [
    '매복/수평 사랑니 설명',
    '드라이소켓 주의',
    '발치 후 관리법',
    '인접치 영향',
  ],
  충치: [
    '초기 발견 중요성',
    '단계별 진행 설명',
    '예방법 강조',
    '정기검진 권유',
  ],
  교정: [
    '교정 기간 안내',
    '유지장치 중요성',
    '구강 위생 관리',
    '정기 내원 필요성',
  ],
}

// 랜덤 패턴 선택 함수
export function getRandomPattern<T>(patterns: T[]): T {
  return patterns[Math.floor(Math.random() * patterns.length)]
}

// 인사말 생성 함수
export function generateGreeting(region: string, doctorName: string): string {
  const template = getRandomPattern(INTRO_PATTERNS.greeting)
  return template
    .replace('[지역]', region)
    .replace('[이름]', doctorName)
}

// 마무리 인사 생성 함수
export function generateFarewell(region: string, doctorName: string): string {
  const template = getRandomPattern(CLOSING_PATTERNS.farewell)
  return template
    .replace('[지역]', region)
    .replace('[이름]', doctorName)
}

// ============================================================
// 의료법 위반 - 환자 정보 관련 금지 표현
// ============================================================
export const PATIENT_INFO_FORBIDDEN = [
  // 직접적인 환자 언급
  '이번 환자분',
  '이 환자분',
  '해당 환자',
  '환자분의 경우',
  '환자분께서',
  '치료받으신 분',
  '내원하신 분',
  '방문하신 환자',

  // 구체적 정보 언급
  '00대 여성',
  '00대 남성',
  '세 여성',
  '세 남성',
  '환자 정보',
  '환자 케이스',
  '실제 사례',
  '실제 치료 사례',
  '치료 전후',

  // 후기/체험담 형식
  '환자 후기',
  '치료 후기',
  '환자 체험담',
  '치료 체험',
  '환자 인터뷰',
]

// 환자 정보 대체 표현 (일반적인 설명으로 전환)
export const PATIENT_INFO_ALTERNATIVES = {
  '이번 환자분의 경우': '이런 경우',
  '환자분께서': '이런 상황에서는',
  '치료받으신 분': '치료가 필요한 분',
  '00대 여성/남성': '(연령대 언급 금지)',
  '실제 사례': '일반적으로',
}

// 이미지 설명 템플릿 (IMAGE 플레이스홀더 대체용)
export const IMAGE_DESCRIPTION_TEMPLATES: Record<string, string> = {
  before: '▶ 치료 전 상태를 보여주는 이미지가 들어갈 위치입니다. (예: X-ray, 구강 내 사진 등)',
  after: '▶ 치료 후 개선된 상태를 보여주는 이미지가 들어갈 위치입니다.',
  xray: '▶ X-ray 촬영 이미지가 들어갈 위치입니다. (치아 상태 확인용)',
  ct: '▶ CT 촬영 이미지가 들어갈 위치입니다. (3D 입체 구조 확인용)',
  progress: '▶ 치료 과정 이미지가 들어갈 위치입니다.',
  diagram: '▶ 치료 과정 설명 일러스트/다이어그램이 들어갈 위치입니다.',
  general: '▶ 관련 참고 이미지가 들어갈 위치입니다.',
}
