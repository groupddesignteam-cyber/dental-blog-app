// 월별 시즌 인사말 (season_db.md 기반) - ~다 체

export interface SeasonData {
  keywords: string[]
  hooks: string[]
}

export const SEASON_DATA: Record<number, SeasonData> = {
  1: {
    keywords: ['새해', '다짐', '추위', '한파'],
    hooks: [
      '새해가 밝았습니다. 올해 건강 관리를 다짐하신 분들이 많으시죠.',
      '추운 날씨에도 치과를 방문해 주시는 분들이 계십니다. 건강에 대한 의지가 대단하다는 생각이 듭니다.',
      '새해 첫 달, 미뤄두었던 치아 관리 계획을 세우시는 분들이 늘고 있습니다.',
      '연초에는 건강검진과 함께 구강 검진도 받아보시는 것이 좋습니다.',
      '겨울 한파가 이어지고 있습니다. 추운 날씨에 시린 치아로 불편을 느끼시는 분들이 계십니다.',
    ],
  },
  2: {
    keywords: ['설 연휴', '졸업', '입학 준비', '봄 기다림'],
    hooks: [
      '설 연휴가 지나고 치과를 찾으시는 분들이 부쩍 늘었습니다.',
      '졸업을 앞두고 치아 관리를 시작하시는 분들이 많습니다.',
      '명절 음식을 드시면서 치아에 불편을 느끼신 분들이 적지 않습니다.',
      '입학 시즌을 앞두고 자녀분의 구강 건강을 점검하시는 학부모님들이 계십니다.',
      '아직 추위가 남아 있지만, 봄을 준비하며 건강 계획을 세우시는 분들이 많습니다.',
    ],
  },
  3: {
    keywords: ['봄', '새 학기', '입학', '꽃샘추위'],
    hooks: [
      '어느덧 3월입니다. 새 학기를 맞아 교정 상담을 받으시는 분들이 늘고 있습니다.',
      '봄바람이 불어오는 요즘, 환한 미소를 위한 치아 관리를 시작하시는 분들이 계십니다.',
      '꽃샘추위가 아직 남아있는 3월, 건강 관리에 더욱 신경 쓰시는 분들이 많습니다.',
      '새 학기가 시작되었습니다. 새로운 환경에서 자신감 있는 미소를 준비하시는 분들이 계십니다.',
      '봄이 오면서 야외 활동이 늘어나는 시기입니다. 구강 건강 점검의 좋은 시기이기도 합니다.',
    ],
  },
  4: {
    keywords: ['벚꽃', '완연한 봄', '황사', '미세먼지'],
    hooks: [
      '벚꽃이 만개한 계절입니다. 활짝 웃는 사진을 위해 치아 관리도 중요하죠.',
      '완연한 봄이 찾아왔습니다. 건강을 챙기시느라 분주하신 분들이 많으시죠.',
      '황사와 미세먼지가 잦은 4월, 구강 건강에도 영향을 미칠 수 있다는 사실을 아시나요.',
      '봄나들이 계절입니다. 야외 활동이 잦아지면서 치아 관리의 중요성도 높아지고 있습니다.',
      '따뜻해진 날씨만큼 건강에 대한 관심도 높아지는 시기입니다.',
    ],
  },
  5: {
    keywords: ['가정의 달', '어버이날', '어린이날', '근로자의 날'],
    hooks: [
      '가정의 달을 맞아 부모님 치아 건강을 선물하시는 분들이 많습니다.',
      '어린이날이 지나고 아이 충치로 내원하시는 분들이 늘고 있습니다.',
      '5월 가정의 달, 가족 모두의 구강 건강을 점검해 보시는 것은 어떨까요.',
      '어버이날을 맞아 부모님의 치아 상태를 살펴보시는 분들이 계십니다.',
      '따뜻한 봄이 무르익는 5월, 미뤄두었던 치료를 시작하시는 분들이 계십니다.',
    ],
  },
  6: {
    keywords: ['여름 시작', '장마 전', '현충일'],
    hooks: [
      '더위가 시작되는 6월입니다. 여름 전에 미뤄뒀던 치료를 받으시는 분들이 많습니다.',
      '장마가 시작되기 전 치과를 방문하시는 분들이 부쩍 늘었습니다.',
      '본격적인 여름이 시작되기 전, 구강 건강을 점검하시는 분들이 계십니다.',
      '더운 여름에는 차가운 음료를 자주 드시게 됩니다. 시린 치아가 신경 쓰이시는 분들이 계시죠.',
      '장마철을 앞두고 건강 관리를 미리 준비하시는 분들이 많습니다.',
    ],
  },
  7: {
    keywords: ['장마', '무더위', '여름휴가', '방학'],
    hooks: [
      '장마철입니다. 건강 관리가 더욱 중요한 시기이죠.',
      '방학을 맞아 교정 치료를 시작하시는 분들이 많습니다.',
      '무더위가 기승을 부리는 7월, 차가운 음식이 당기시죠. 치아 건강도 함께 챙기시길 바랍니다.',
      '여름휴가 전에 치아 관리를 마무리하시려는 분들이 부쩍 늘었습니다.',
      '방학 기간을 활용하여 그동안 미뤄두었던 치료를 시작하시는 분들이 계십니다.',
    ],
  },
  8: {
    keywords: ['폭염', '휴가', '열대야', '방학 끝'],
    hooks: [
      '폭염이 계속되고 있습니다. 더운 날씨에도 건강을 챙기시는 분들이 대단합니다.',
      '여름휴가가 끝나고 방학 중 치료를 마무리하시려는 분들이 많습니다.',
      '열대야에 잠을 설치시는 분들이 계십니다. 이갈이 증상도 이 시기에 더 눈에 띄곤 합니다.',
      '개학을 앞두고 자녀분의 치아 건강을 마무리 점검하시는 부모님들이 늘고 있습니다.',
      '8월 마지막 여름, 건강한 미소로 새 학기를 준비하시는 분들이 계십니다.',
    ],
  },
  9: {
    keywords: ['가을', '추석', '새 학기', '선선함'],
    hooks: [
      '아침저녁으로 선선해진 요즘입니다. 추석 전에 치아 관리를 하시는 분들이 계시죠.',
      '풍성한 한가위를 보내셨습니까. 명절 음식을 드시다 불편을 느끼신 분들이 계십니다.',
      '가을이 성큼 다가왔습니다. 건강한 치아로 제철 과일을 마음껏 즐기시길 바랍니다.',
      '추석 연휴 기간 동안 딱딱한 음식이나 질긴 음식으로 치아에 무리가 가신 분들이 계십니다.',
      '선선한 바람이 부는 9월, 건강을 되돌아보시는 분들이 많습니다.',
    ],
  },
  10: {
    keywords: ['가을', '단풍', '천고마비', '수능 D-50'],
    hooks: [
      '단풍이 아름다운 계절입니다. 가을 나들이 사진을 위해 환한 미소를 준비하시는 분들이 계십니다.',
      '수능이 한 달여 앞으로 다가왔습니다. 수험생 자녀분의 치아 건강을 챙기시는 부모님들이 계시죠.',
      '천고마비의 계절 10월입니다. 맛있는 음식을 편하게 즐기시려면 치아 건강이 기본이 됩니다.',
      '가을 행사와 모임이 잦은 시기입니다. 자신감 있는 미소를 준비하시는 분들이 계십니다.',
      '쌀쌀해지는 날씨에 따뜻한 차를 자주 드시게 되죠. 뜨거운 음료가 치아에 미치는 영향도 알아두시면 좋습니다.',
    ],
  },
  11: {
    keywords: ['수능', '입시', '추워지는 날씨', '김장'],
    hooks: [
      '수능이 끝나고 그동안 미뤄뒀던 치료를 받으시는 분들이 많습니다.',
      '날씨가 부쩍 추워졌습니다. 따뜻한 음식을 편하게 드시려면 치아 건강이 중요하죠.',
      '김장철입니다. 단단한 재료를 다루시면서 치아에 무리가 가지 않도록 주의가 필요합니다.',
      '수능이 끝난 후 교정 치료를 계획하시는 분들이 늘고 있습니다.',
      '겨울을 앞두고 건강 점검을 하시는 분들이 많습니다. 구강 건강도 빠뜨리지 않으시길 바랍니다.',
    ],
  },
  12: {
    keywords: ['연말', '송년회', '크리스마스', '한 해 마무리'],
    hooks: [
      '벌써 12월입니다. 한 해를 마무리하면서 치아 건강도 점검해 보시길 바랍니다.',
      '연말 모임이 많으시죠. 환하게 웃을 수 있는 미소를 준비하시길 바랍니다.',
      '한 해의 마무리를 앞두고 미뤄두었던 치료를 마치시려는 분들이 많습니다.',
      '송년 모임에서 자신 있게 웃기 위해 치아 관리를 시작하시는 분들이 계십니다.',
      '올 한 해 동안 건강을 위해 달려오셨습니다. 치아 건강도 되돌아보시길 권합니다.',
    ],
  },
}

// 주제-연령대 매칭: 젊은층 훅 키워드 (임플란트/보철 등 중장년 주제에서 제외)
const YOUNG_KEYWORDS = ['졸업', '입학', '새 학기', '교정', '수능', '수험생', '방학', '학생', '어린이', '아이 충치']
// 중장년 이상 대상 주제
const SENIOR_TOPICS = ['임플란트', '뼈이식', '골이식', '틀니', '보철', '크라운', '브릿지', '치주', '잇몸', '발치']

// 현재 월에 맞는 시즌 훅 가져오기
export function getSeasonHook(topic?: string): string {
  const month = new Date().getMonth() + 1
  const seasonData = SEASON_DATA[month] || SEASON_DATA[1]

  let hooks = seasonData.hooks

  // 중장년 주제인 경우 젊은층 관련 훅 제외
  if (topic && SENIOR_TOPICS.some(t => topic.includes(t))) {
    const filtered = hooks.filter(hook =>
      !YOUNG_KEYWORDS.some(keyword => hook.includes(keyword))
    )
    if (filtered.length > 0) {
      hooks = filtered
    }
  }

  return hooks[Math.floor(Math.random() * hooks.length)]
}

// 인덱스 기반 시즌 훅 선택 (배치 다양성용)
export function getSeasonHookByIndex(topic?: string, index?: number): string {
  if (index === undefined) return getSeasonHook(topic)

  const month = new Date().getMonth() + 1
  const seasonData = SEASON_DATA[month] || SEASON_DATA[1]
  let hooks = seasonData.hooks

  if (topic && SENIOR_TOPICS.some(t => topic.includes(t))) {
    const filtered = hooks.filter(hook =>
      !YOUNG_KEYWORDS.some(keyword => hook.includes(keyword))
    )
    if (filtered.length > 0) hooks = filtered
  }

  return hooks[index % hooks.length]
}

// 현재 월의 키워드 가져오기
export function getSeasonKeywords(): string[] {
  const month = new Date().getMonth() + 1
  return SEASON_DATA[month]?.keywords || []
}

// 특정 월의 데이터 가져오기
export function getSeasonDataByMonth(month: number): SeasonData | null {
  return SEASON_DATA[month] || null
}
